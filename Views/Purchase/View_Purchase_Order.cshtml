@model List<eSalesPro.Models.PO_Sale_Invoice>

<script>
    function View_PO_Onload() {

        //-----Invoice Object Disabled
        var count = $("#product_list_count").val();

        $("#payment_status_id").prop("disabled", true).css({ "background-color": "#bcbcc5", "color": "#000" });
        $("#payment_method_id").prop("disabled", true).css({ "background-color": "#bcbcc5", "color": "#000" });
        $("#payment_piriority_id").prop("disabled", true).css({ "background-color": "#bcbcc5", "color": "#000" });
        $("#po_status").prop("disabled", true).css({ "background-color": "#bcbcc5", "color": "#000" });

        

        $("#purchase_number").prop("disabled", true).css({ "background-color": "#FFF", "color": "#000" });
        $("#purchase_invoice_no").prop("disabled", true).css({ "background-color": "#FFF", "color": "#000" });
        //$("#item_sale_number").prop("disabled", true).css({ "background-color": "#FFF", "color": "#000" });

        $("#edit_date").prop("disabled", true).css({ "background-color": "#FFF", "color": "#000" });
        $("#purchase_number").prop("disabled", true).css({ "background-color": "#FFF", "color": "#000" });

        $("#customer_notes").prop("disabled", true).css({ "background-color": "#FFF", "color": "#000" });
        $("#private_notes").prop("disabled", true).css({ "background-color": "#FFF", "color": "#000" });

        //-----Invoice Object Disabled

        for (var i = 1 ; i <= count   ; i++) {

            $("#codeforProduct" + i).prop("disabled", true).css({ "background-color": "#FFF", "color": "#000" });
            $("#supplier_code" + i).prop("disabled", true).css({ "background-color": "#FFF", "color": "#000" });
            $("#invoice_description" + i).prop("readonly", true).css({ "background-color": "#FFF", "color": "#000" });
            $("#invoice_quantity" + i).prop("disabled", true).css({ "background-color": "#FFF", "color": "#000" });
            $("#invoice_price" + i).prop("disabled", true).css({ "background-color": "#FFF", "color": "#000" });
            $("#invoice_price_vat" + i).prop("disabled", true).css({ "background-color": "#FFF", "color": "#000" });
            $("#invoice_total" + i).prop("disabled", true).css({ "background-color": "#FFF", "color": "#000" });
            $("#invoice_total_vat" + i).prop("disabled", true).css({ "background-color": "#FFF", "color": "#000" });
            $("#invoice_discount" + i).prop("disabled", true).css({ "background-color": "#FFF", "color": "#000" });

        }



        var date = new Date();

        var day = date.getDate();
        var month = date.getMonth() + 1;
        var year = date.getFullYear();

        if (month < 10) month = "0" + month;
        if (day < 10) day = "0" + day;

        var today = day + "-" + month + "-" + year;

        //document.getElementById('edit_date').valueAsDate = new Date();


        

    }

</script>

<body id="body-index" onload="View_PO_Onload()">
    <div id="sticky-footer-wrap">


        @*-----------------Top Navigation Start---------------*@

        @{
            Html.RenderPartial("Top_Navigation_View");
        }

        @*-----------------Top Navigation End---------------*@

        <div class="container-fluid main-container">

            @*-----------------Side Navigation Start---------------*@
            <div class="row">
                @{
                    Html.RenderPartial("Side_Navigation_View");
                }
                @*-----------------Side Navigation End---------------*@



                @*-----------------Main Container Start---------------*@
                <div class="user-page-height">
                    <div class="bggg-img">
                        <div id="edit_invoice">
                            <form id="demo-form2" action="@Url.Action("Edit_Purchase_Order", "Purchase")" method="post" data-parsley-validate class="" enctype="multipart/form-data">
                                
                                <input id="product_list_count" value="@Model.Count" hidden/>

                                <div class="col-md-12">
                                    <div class="empty-height"></div><div class="empty-height"></div>


                                    <div class="clearfix"></div>
                                </div>

                                <div class="clearfix"></div>

                                <div id="invoice_id" class="hideDocument">

                                    <div class="">



                                        <div class="col-md-4 pull-left">

                                            <h3 id="new_invoice_heading" class="bold mt-0">
                                                Edit Purchase Order
                                            </h3>

                                            <div class="empty-height"></div><div class="empty-height"></div>




                                            <div class="col-md-6 pull-left">
                                                <a href="#" data-toggle="modal" data-target="#CreateModal">
                                                    <span class=""><img src="~/img/images/new_supplier.png" /></span><br />
                                                    <span class="bold">New Supplier</span>

                                                </a>
                                            </div>

                                            <div class="col-md-6 pull-left">
                                                <a href="#" data-toggle="modal" data-dismiss="modal" data-target="#Existing_Supplier_Modal">
                                                    <span class=""><img src="~/img/images/existing_supplier.png" /></span><br />
                                                    <span class="bold">Existing Supplier</span>
                                                </a>
                                            </div>
                                            <div class="clearfix"></div>


                                        </div>





                                        <div class="col-md-2 pull-left pl-0 pr-0">
                                            <input type="text" name="exist_customer_idd" class="hidden" id="exist_customer_id" />

                                            <input type="text" name="" class="hidden" id="" />
                                            <input type="text" id="credit_limit_input" name="credit_limit_input" hidden value="@ViewBag.purchase.Supplier.Credit_Limit" />
                                            <input type="text" id="supplier_IDD" hidden name="supplier_IDD" value="@ViewBag.purchase.Supplier.Id" />
                                            <input type="text" id="supplier_code" hidden name="supplier_code" />

                                            <ul class="list-style-type-custom">
                                                @*<li id="type_customer" class="bold font-18 black-color"></li>*@
                                                <li id="supplier_names">@ViewBag.purchase.Supplier.Name</li>
                                                <li id="supplier_addresss">@ViewBag.purchase.Supplier.Street</li>
                                                <li id="supplier_postcodes">@ViewBag.purchase.Supplier.Post_Code</li>
                                                <li id="supplier_emails">@ViewBag.purchase.Supplier.Email</li>
                                                <li id="supplier_phones">@ViewBag.purchase.Supplier.Phone</li>

                                                @*<li id="customer_balance" class="hidden"></li>
                                                    <li id="customer_credit" class="hidden"></li>
                                                    <li id="customer_credit_limit" class="hidden"></li>*@
                                            </ul>
                                        </div>



                                        <div class="col-md-6 pull-left pl-0 pr-0">


                                            <div class="col-md-5">

                                                <div>
                                                    <h5 class="bold mt-0">Invoice Image</h5>
                                                    <div class="fileupload fileupload-new" style="max-width:80px" data-provides="fileupload" align="center">

                                                        @if (@ViewBag.purchase.Image_Invoice != null)
                                                        {
                                                            {
                                                                var base64 = Convert.ToBase64String(@ViewBag.purchase.Image_Invoice);
                                                                var imgsrc = string.Format("data:image/gif;base64,{0}", base64);

                                                                <div class="fileupload-new thumbnail"><img src="@imgsrc" class="product-img" /></div>
                                                            }



                                                        }

                                                        else
                                                        {
                                                            <div class="fileupload-new thumbnail"><img src="~/img/images/default-image.jpg" class="product-img" /></div>
                                                        }

                                                        <div class="fileupload-preview fileupload-exists thumbnail @*product-img*@" style="max-width:80px;max-height:80px"></div>

                                                        <div>

                                                            <span class="btn btn-file btn-primary btn-margin-product" style="max-height:20px;font-size:11px;padding:3px"><span class="fileupload-new">Select</span><span class="fileupload-exists">Change</span><input type="file" name="file" id="a_image1" onchange="Checkfilesimage(1)"></span>

                                                            <a href="javascript:;" class="btn btn-primary btn-margin-product fileupload-exists" style="padding: 1px;font-size:11px" data-dismiss="fileupload">Remove</a>

                                                        </div>

                                                    </div>
                                                </div>

                                            </div>




                                            <div class="col-md-7 pl-0 pr-0">

                                                @*<div class="form-group pull-left">
                                                        <label><input type="checkbox" value="" />Filter Supplier</label>
                                                    </div>*@

                                                <label hidden class="pull-left"><input type="checkbox" value="" id="filter_supplier_checkbox" />Filter Supplier</label>

                                                <div class="clearfix"></div>

                                                <div class="form-group" id="">
                                                    <label class="pull-left width-134" for="middle-name">Number</label>
                                                    <div class="pull-left">
                                                        <input class="width-145 text-center" onblur="checkPurchaseNumber()" readonly value="@ViewBag.purchase.Purchase_Number" onkeypress="validate(event)" type="text" name="purchase_number" id="purchase_number" required>
                                                    </div>
                                                </div>

                                                <div class="clearfix"></div>


                                                <div class="form-group">
                                                    <label class="pull-left width-134" for="middle-name">Date</label>
                                                    <div class="pull-left">
                                                        <input readonly class="width-145 text-center" id="converting_date" type="text" name="company_name" value="@ViewBag.purchase.Created_at.ToShortDateString()" required>
                                                    </div>
                                                </div>

                                                <div class="clearfix"></div>

                                                <div class="form-group">
                                                    <label class="pull-left width-134" for="middle-name">Sales Person</label>
                                                    <div class="pull-left">
                                                        <input readonly class="width-145 text-center" type="text" name="sales_person" id="company_name" value="@ViewBag.purchase.User.username" required>
                                                    </div>
                                                </div>

                                                <div class="clearfix"></div>

                                                <div class="form-group" id="payment_method_div">
                                                    <label class="pull-left width-134" for="middle-name">Payment Method</label>
                                                    <div class="pull-left">
                                                        <select name="payment_method_id" id="payment_method_id" class="form-control border_black-1px width-145 select-class-color">
                                                            <option value="@ViewBag.purchase.Payment_Method_Id">@ViewBag.purchase.Payment_Methods.Type</option>
                                                            @foreach (var method in ViewBag.Payment_Method)
                                                            {
                                                                if (@ViewBag.purchase.Payment_Method_Id == method.Id)
                                                                {
                                                                    continue;
                                                                }
                                                                <option value="@method.Id">@method.Type</option>
                                                            }

                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="clearfix"></div>


                                                <div class="form-group">
                                                    <label class="pull-left width-134" for="middle-name">Invoice No</label>
                                                    <div class="pull-left">
                                                        <input class="width-145 text-center" type="text" name="purchase_invoice_no" id="purchase_invoice_no" value="@ViewBag.purchase.PO_Invoice_Number" required>
                                                    </div>
                                                </div>

                                                @*<a href="#" data-target="#Sold_History_Modal" data-dismiss="modal" data-toggle="modal">Sold History</a>*@
                                            </div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>

                                    <hr class="hr_customer" />

                                    <div class="col-md-12">


                                        <table border="0" class="table table-responsive border_black" style="width:100%" id="maintable">
                                            <thead>
                                                <tr class="table-heading-fonts-new-invoice table-main-headings">
                                                    <th class="text-center">Code</th>
                                                    <th class="text-center">Supplier</th>
                                                    <th class="text-center width-53p">Description</th>
                                                    <th class="text-center">Quantity</th>
                                                    <th class="text-center received_div">Rcd Qty</th>
                                                    <th width="10%" class="text-center">Price</th>
                                                    <th class="text-center hidecolumn">Price+VAT</th>
                                                    <th width="2%" class="text-center">Total</th>
                                                    <th class="text-center hidecolumn">Total+VAT</th>
                                                    <th class="text-center" style="display:none">Received Qty</th>
                                                    <th width="25%" class="text-center">Actions</th>

                                                </tr>
                                            </thead>
                                            <tbody class="black-color">

                                                @{
                                                    var counter = 1;

                                                }

                                                @foreach (var obj in Model)
                                                {

                                                    <tr id="@String.Concat("rowId"+counter)" class="font-15 id remove_div">

                                                        <td class="border-right-td">
                                                            <div class="text-center">
                                                                <input value="@obj.Purchase_Order_Product.Code" placeholder="Code" class="yoyo unbold text-center"
                                                                       onkeyup="productList(this.value,@counter);" type="text" style="max-width:90px"
                                                                       id="@String.Concat("codeforProduct",counter)" name="@String.Concat("codeforProduct",counter)">
                                                            </div>
                                                        </td>

                                                        <td class="border-right-td">
                                                            <div class="text-center">
                                                                <input value="@obj.Purchase_Order_Product.Supplier_Code" class="4 new-invoice-width-boxes unbold width-68 text-center"
                                                                       onkeyup="" placeholder="Supplier" onkeypress="validate(event)" type="text" 
                                                                       id="@String.Concat("supplier_code", counter)" name="@String.Concat("supplier_code", counter)">
                                                            </div>
                                                        </td>

                                                        <td class="border-right-td">
                                                            <textarea class="2 description-text-area unbold width-100p text-center" required="" placeholder="Description"
                                                                      id="@String.Concat("invoice_description",counter)" name="@String.Concat("invoice_description",counter)">
                                                                @obj.Purchase_Order_Product.Description
                                                            </textarea>
                                                        </td>

                                                        <td class="border-right-td">
                                                            <div class="text-center">
                                                                <input value="@obj.Purchase_Order_Product.Quantity" placeholder="0" class="3 unbold width-45 text-center" type="text"
                                                                       onkeypress="validate(event)" onkeyup="Total(@counter); checkQuantityAvailable(this.value, @counter)"
                                                                       id="@String.Concat("invoice_quantity",counter)" name="@String.Concat("invoice_quantity",counter)">
                                                            </div>
                                                        </td>

                                                        <td class="border-right-td received_div">
                                                            <div class="text-center">
                                                                <input value="@obj.Purchase_Order_Product.Quantity_Received" placeholder="0" class="3 unbold width-65 text-center" type="text"
                                                                       onkeyup="TotalReceived1(@counter);" onkeypress="validate(event)"
                                                                       id="@String.Concat("invoice_receieved_quantity", counter)" name="@String.Concat("invoice_receieved_quantity", counter)">
                                                            </div>
                                                        </td>

                                                        <td class="border-right-td">
                                                            <div class="text-center">
                                                                <input value="@obj.Purchase_Order_Product.Price" placeholder="0.0" class="4 new-invoice-width-boxes unbold width-68 text-center"
                                                                       onkeyup="Total(@counter);TotalReceived1(@counter)" onkeypress="validate(event)"
                                                                       id="@String.Concat("invoice_price", counter)" name="@String.Concat("invoice_price", counter)" type="text">
                                                            </div>
                                                        </td>

                                                        <td class="border-right-td hidecolumn text-center">
                                                            <input value="@obj.Purchase_Order_Product.Price_VAT" placeholder="0.0" class="5 new-invoice-width-boxes unbold width-78 text-center"
                                                                   onkeyup="Total2(@counter);TotalReceived2(@counter)" onkeypress="validate(event)" type="text"
                                                                   id="@String.Concat("invoice_price_vat",counter)" name="@String.Concat("invoice_price_vat",counter)">
                                                        </td>

                                                        <td class="border-right-td  text-center">
                                                            <input value="@obj.Purchase_Order_Product.Total" type="text"
                                                                   placeholder="0.0" class="6 new-invoice-width-boxes unbold width-68 text-center"
                                                                   id="@String.Concat("invoice_total",counter)" name="@String.Concat("invoice_total",counter)">
                                                        </td>

                                                        <td class="border-right-td hidecolumn text-center">
                                                            <input value="@obj.Purchase_Order_Product.Total_VAT" type="text"
                                                                   placeholder="0.0" class="7 new-invoice-width-boxes unbold width-78 text-center"
                                                                   id="@String.Concat("invoice_total_vat",counter)" name="@String.Concat("invoice_total_vat",counter)">
                                                        </td>
                                                        @*id="received_total1"*@
                                                        <td class="border-right-td  text-center" hidden>
                                                            <input placeholder="0.0" class="6 new-invoice-width-boxes unbold width-68 text-center" type="text"
                                                                   value="@obj.Purchase_Order_Product.Received_Total"
                                                                   id="@String.Concat("received_total",counter)" name="@String.Concat("received_total",counter)">
                                                        </td>

                                                        @*<td class="text-center border-right-td width-68"><div id="invoice_total1" class="6 total_invoice_background text-center">£0</div></td>*@
                                                        @*<td class="border-right-td text-center width-78 hidecolumn"><div id="invoice_total_vat1" class="7 total_invoice_background text-center">£0</div></td>*@

                                                        @*<td class="border-right-td text-center" style="display:none"><input onkeyup="Total(1);" onkeypress="validate(event)" id="invoice_discount1" placeholder="0.0" class="8 unbold width-45 text-center" name="invoice_discount1" type="text"></td>*@

                                                        <td class="hidden">
                                                            <input type="text" class="hidden" id="invoice_product_id1" name="invoice_product_id1" />
                                                        </td>

                                                        <td class="text-center width-27p" style="vertical-align:middle;">
                                                            <a href="#" class="showdiv" @*onclick="addNewRow(); rowcounterPlus();"*@>
                                                                <img src="/img/images/plus_new_sale.png">
                                                            </a>
                                                            <a href="#" class="remove" @*onclick="RemoveAddedRow(@counter)"*@>
                                                                <img src="/img/images/cross_new_sale.png">
                                                            </a>
                                                            <a href="#">
                                                                <img src="/img/images/barcode_new_sale.png">
                                                            </a>
                                                        </td>

                                                        @*<input type="text" id="total_hidden1" name="total_hidden1"/>
                                                            <input type="text" id="total_vat_hidden1" name="total_vat_hidden1"/>*@



                                                    </tr>
                                                    counter = counter + 1;
                                                }
                                            </tbody>

                                            <input type="hidden" id="rowNumber" value="@counter" />

                                            @for (int i = 1; i <= 1000; i++)
                                            {

                                                <tbody class="black-color" id="@String.Concat("newrow",i)"></tbody>
                                            }
                                        </table>


                                        <div id="addedRows"></div>

                                        <div id="productList"></div>
                                        <div class="filter_div"></div>

                                        <div class="clearfix"></div>
                                    </div>



                                    <div class="">

                                        <div class="col-md-4 unbold">
                                            <textarea class="textarea-style-none unbold textarea-width" name="supplier_notes" placeholder="Supplier notes...">@ViewBag.purchase.Supplier_Notes</textarea>
                                        </div>
                                        <div class="col-md-4 pl-0">
                                            <textarea class="textarea-style-none unbold textarea-width" name="private_notes" placeholder="Private notes...">@ViewBag.purchase.Private_Notes</textarea>
                                        </div>
                                        <div class="col-md-4 pl-0">
                                            <table id="table_cashh" class="black-color col-md-12 border_black">
                                                <tr id="" class="">
                                                    <td class="bold font-18">Order</td>
                                                    <td id="" class="text-right bold"></td>
                                                </tr>
                                                <tr id="sub_total_tr" class="hidecolumn">
                                                    <td class="">Subtotal</td>
                                                    <td id="sub_total_td" class="bold text-right">@ViewBag.purchase.Sub_Total</td>
                                                </tr>
                                                <tr id="vat_tr" class="hidecolumn">
                                                    <td class="">VAT</td>
                                                    <td id="vat_td" class="text-right bold">@ViewBag.purchase.VAT</td>
                                                </tr>



                                                <tr>
                                                    <td class="">Total</td>
                                                    <td id="total_td" class="text-right bold">@ViewBag.purchase.Total</td>
                                                </tr>

                                                <tr class="border_bottom_black_2px">
                                                    <td></td>
                                                    <td></td>
                                                </tr>

                                                <tr id="" class="received_div">
                                                    <td class="bold font-18">Received</td>
                                                    <td id="" class="text-right bold"></td>
                                                </tr>
                                                <tr id="received_sub_total_tr" class="received_div">
                                                    <td class="">Subtotal</td>
                                                    <td id="received_sub_total_td" class="bold text-right">@ViewBag.purchase.Received_Sub_Total</td>
                                                </tr>
                                                <tr id="vat_tr" class="received_div">
                                                    <td class="">VAT</td>
                                                    <td id="received_vat_td" class="text-right bold">@ViewBag.purchase.Received_Total_VAT</td>
                                                </tr>



                                                <tr class="received_div">
                                                    <td>Total</td>
                                                    <td id="received_total_td" class="text-right bold">@ViewBag.purchase.Received_Total</td>
                                                </tr>
                                                <tr class="border_bottom_black_2px received_div">
                                                    <td></td>
                                                    <td></td>
                                                </tr>


                                                <tr id="payment_status_tr">
                                                    <td class="bold pt_4">Payment Status</td>
                                                    <td class="text-right pt_4">
                                                        <select id="payment_status_id" onchange="payment_status()" name="payment_status_id" class="form-control border_black-1px min-height-32 width-180 select-class-color pull-right">
                                                            @*<option>Please Select Any</option>*@
                                                            <option value="@ViewBag.purchase.Payment_Status_Id">@ViewBag.purchase.Payment_Status.Status</option>
                                                            @foreach (var status in ViewBag.Payment_Status)
                                                            {
                                                                if (@ViewBag.purchase.Payment_Status_Id == status.Id)
                                                                {
                                                                    continue;
                                                                }
                                                                <option value="@status.Id">@status.Status</option>
                                                            }
                                                        </select>
                                                    </td>
                                                </tr>

                                                <tr id="payment_piriority_tr">
                                                    <td class="bold pt_4">Payment Piriority</td>
                                                    <td class="text-right pt_4">
                                                        <select id="payment_piriority_id" onchange="payment_piriority()" name="payment_piriority_id" class="form-control border_black-1px min-height-32 width-180 select-class-color pull-right">
                                                            <option value="@ViewBag.purchase.Payment_Piriority_Id">@ViewBag.purchase.Payment_Priority.Type</option>
                                                            @foreach (var piriority in ViewBag.Payment_Piriority)
                                                            {
                                                                if (@ViewBag.purchase.Payment_Piriority_Id == piriority.Id)
                                                                {
                                                                    continue;
                                                                }
                                                                <option value="@piriority.Id">@piriority.Type</option>
                                                            }
                                                        </select>
                                                    </td>
                                                </tr>


                                                <tr class="border_bottom_black_2px">
                                                    <td style="padding-bottom:4px"></td>
                                                    <td style="padding-bottom:4px"></td>
                                                </tr>

                                                <tr id="po_status_tr">
                                                    <td class="bold pt_4" style="padding-bottom:4px">PO Status</td>
                                                    <td class="text-right pt_4" style="padding-bottom:4px">
                                                        <select id="po_status" onchange="PO__Status();" name="po_status_id" class="form-control border_black-1px min-height-32 width-180 select-class-color pull-right">
                                                            <option value="@ViewBag.purchase.PO_Status_Id">@ViewBag.purchase.Purchase_Order_Status.Status_Type</option>
                                                            @foreach (var status in ViewBag.PO_Status)
                                                            {
                                                                if (@ViewBag.purchase.PO_Status_Id == status.Id)
                                                                {
                                                                    continue;
                                                                }
                                                                <option value="@status.Id">@status.Status_Type</option>
                                                            }
                                                        </select>
                                                    </td>
                                                </tr>

                                                <tr class="border_bottom_black_2px">
                                                    <td style="padding-bottom:4px"></td>
                                                    <td style="padding-bottom:4px"></td>
                                                </tr>

                                                <tr>
                                                    <td class="bold text-center"><a href="#" data-target="#Deposit_Modal" class="hideDiv" id="Deposit_payment_option" data-toggle="modal">Deposit Payment</a></td>
                                                    <td class=" bold text-center"><a href="#" class="hideDiv" data-target="#Partial_Payment_Modal" id="partial_payment_option" data-toggle="modal">Add Partial Payment</a></td>

                                                </tr>

                                                <tr class="border_bottom_black_2px hide_border" style="display:none">
                                                    <td style="padding-bottom:4px"></td>
                                                    <td style="padding-bottom:4px"></td>
                                                </tr>

                                                <tr class="partial_paid" style="display:none">
                                                    <td class="bold">Partial Payment</td>
                                                    <td id="partial_paid_td" class="text-right">@*@ViewBag.purchase.*@</td>
                                                </tr>

                                                <tr class="border_bottom_black_2px hide_border" style="display:none">
                                                    <td style="padding-bottom:4px"></td>
                                                    <td style="padding-bottom:4px"></td>
                                                </tr>

                                                <tr class="deposit_paid" style="display:none">
                                                    <td class="bold">Deposit Payment</td>
                                                    <td id="deposit_paid_td" class="text-right">£0</td>
                                                </tr>

                                                <tr class="partial_paid" style="display:none">
                                                    <td class="bold" id="partial_date"></td>
                                                    <td id="partial_payment_method" class="text-right"></td>
                                                </tr>

                                                <tr id="custom_date_show_invoice" style="display:none">
                                                    <td class="bold width-134">Custom Date</td>
                                                    <td><input type="date" class="width-180" /></td>
                                                </tr>


                                                @if (@ViewBag.purchase.Amount_Left != 0)
                                                {

                                                    <tr class="partial_paid deposit_paid">
                                                        <td class="bold">Amount left Pay</td>
                                                        <td id="amount_left_td" class="text-right">@ViewBag.purchase.Amount_Left</td>
                                                    </tr>
                                                }

                                                else
                                                {
                                                    <tr>
                                                        <td class="bold">Amount left to Pay</td>
                                                        <td id="" class="text-right">£0.0</td>
                                                    </tr>
                                                }
                                                @*<tr class="partial_paid deposit_paid">
                                                        <td class="bold">Amount left to Pay</td>
                                                        <td id="amount_left_td" class="text-right">@ViewBag.purchase.Amount_Left</td>
                                                    </tr>*@





                                            </table>


                                            <div class="col-md-12 balance_div none displayDIV">

                                                <span class=" font-18 text-center red bold">Outstanding Balance</span>
                                                <br />
                                                <input type="text" readonly class="input_type_custom font-18" name="outstanding_balance" value="" id="outstanding_balance" />
                                                <br />
                                                <a href="#" class="btn btn-primary blue-btn-style btn-mini bold" data-target="#Outstanding_modal" data-toggle="modal">Pay Outstanding</a>
                                                <div class="empty-height"></div>
                                            </div>
                                        </div>

                                        <div class="clearfix"></div>

                                    </div>

                                    <div class="col-md-12">

                                        @*<div class="empty-height"></div><div class="empty-height"></div>

                                            <div id="global_discount_div" class="col-md-3 pull-right">
                                                <a href="" class="btn btn-primary blue-btn-style btn-mini bold" data-toggle="modal" data-target="#Global_Discount_Modal">Add Global Discount</a>
                                            </div>*@

                                    </div>



                                </div>

                                <div class="empty-height"></div><div class="empty-height"></div><div class="empty-height"></div><div class="empty-height"></div><div class="empty-height"></div><div class="empty-height"></div>
                                <div class="col-md-12 mb-100">
                                    <div class="col-md-3"></div>


                                    <div class="col-md-1 pr-0 text-center">
                                        <a href="~/Purchase/Edit_Purchase_Order/@ViewBag.purchase.Id">
                                            <span class=""><img src="~/img/images/edit.png" /></span><br />
                                            <input type="button" value="Edit" />

                                        </a>




                                    </div>
                                    <div class="col-md-1 pr-0 text-center">
                                        <a href="~/Purchase/Print_Purchase_Order/@ViewBag.purchase.Id" target="_blank" class="pointer_hand">
                                            <span class=""><img src="~/img/images/print_document.png" /></span><br />
                                            <input type="button" value="Print" />

                                        </a>




                                    </div>
                                    <div class="col-md-1 pr-0 text-center">
                                        <a data-target="#Email_Modal" data-toggle="modal" class="pointer_hand">
                                            <span class=""><img src="~/img/images/email_btn.png" /></span><br />
                                            <input type="button" onclick="return submitResult();" value="Email" />
                                        </a>




                                    </div>
                                    <div class="col-md-1 pr-0 text-center">
                                        <a href="~/Purchase/Delete_Purchase_Order/@ViewBag.purchase.Id">
                                            <span class="ml-8"><img src="~/img/images/delete_invoice.png" /></span><br />

                                            @*<input type="submit" onclick="return submitResult();" value="Delete" />*@
                                            <input type="button" value="Delete" />

                                        </a>




                                    </div>

                                    <div class="col-md-1 text-center">
                                        <a href="~/Purchase/New_Purchase_Order">
                                            <span class="ml--14"><img src="~/img/images/exit.png" /></span><br />
                                            <input type="button" value="Exit" />


                                        </a>
                                    </div>
                                    <div class="col-md-4"></div>

                                </div>

                                <input id="counters" value="" type="text" hidden />

                                <input type="text" class="" id="order_sub_total_hidden" value="@ViewBag.purchase.Sub_Total" placeholder="order Subtotal" name="order_sub_total_hidden" hidden />
                                <input type="text" class="" id="order_vat_hidden" value="@ViewBag.purchase.VAT" name="order_vat_hidden" placeholder="order vat" hidden />
                                <input type="text" class="" id="order_total_hidden" value="@ViewBag.purchase.Total" name="order_total_hidden" placeholder="order total" hidden />



                                <input type="text" class="" id="received_sub_total_hidden" name="received_sub_total_hidden" placeholder="received Subtotal" hidden />
                                <input type="text" class="" id="received_vat_hidden" name="received_vat_hidden" placeholder="received vat" hidden />
                                <input type="text" class="" id="received_total_hidden" name="received_total_hidden" placeholder="received total" hidden />


                                <input type="text" class="" id="amount_paid_hidden" name="amount_paid_hidden" value="@ViewBag.purchase.Amount_Paid" placeholder="Amount Paid" hidden />
                                <input type="text" class="" id="left_amount_hidden" name="left_amount_hidden" value="@ViewBag.purchase.Amount_Left" placeholder="Left Amount" hidden />
                            </form>





                        </div>

                    </div>
                </div>
                @*-----------------Main Container Ends---------------*@
            </div>


            @*<div id="sticky-footer-push"></div>*@
        </div>
    </div>



    <footer class="black">

        @{
            Html.RenderPartial("Footer_View");
        }
    </footer>


  


    @*------------------------------------------EMAIL MODAL----------------------------------------*@

    @{
        Html.RenderPartial("Email_Modal/Email_Modal_");
    }

    @*------------------------------------------EMAIL MODAL----------------------------------------*@







   



    
    @*<input type="hidden" value="1" id="rowCounterrr" />*@

    @{
        counter = counter - 1;
    }

    <input type="hidden" name="totalRows" value="@counter" id="rowCounterrr" />
    <input type="hidden" value="1" id="ApnaApnaRowNumber" />



    @*----------------------------POP UP ADD SUPPLIER--------------------------------*@

    @{
        Html.RenderPartial("Supplier_Modal/Add_Supplier_Modal");
    }

    @*----------------------------POP UP END ADD SUPPLIER--------------------------------*@




</body>